{
  "type": "object",
  "properties": {
    "title": {
      "type": "string",
      "description": "The title of the job posting"
    },
    "companyName": {
      "type": "string",
      "description": "Name of the company that posted the job post"
    },
    "companyLogo": {
      "type": ["string", "null"],
      "description": "Absolute url for the company logo, if none set null"
    },
    "createdJobPosting": {
      "type": "object",
      "description": "Information of who created the jobposting",
      "properties": {
        "createdByType": {
          "type": "string",
          "enum": ["system"]
        },
        "createdById": {
          "type": ["null"],
          "enum": ["null"]
        },
        "source": {
          "type": ["string", "null"],
          "enum": ["linkedin", "file_import", "api", "url"],
          "description": "Where the post is comming from"
        },
        "importedAt": {
          "type": ["null"],
          "enum": ["null"],
          "description": "Date and time when the job posting was created"
        }
      },
      "required": ["createdByType", "createdById", "source", "importedAt"]
    },
    "jobPostingUrl": {
      "type": "string",
      "description": "The url provided from the user, if none set null"
    },
    "jobDescription": {
      "type": "string",
      "description": "short text that provides a summary of the specific role the applicatnt will take on"
    },
    "markdownText": {
      "type": "string",
      "description": "Structured job posting content in Markdown format, optimized for client-side rendering. Provides a clean, readable representation of the job description with semantic formatting to enhance readability and presentation.",
      "examples": [
        "# Frontend Developer\n\n## Job Description\n- Detailed job responsibilities\n- Technical requirements\n\n## Qualifications\n- Required skills\n- Nice to have"
      ],
      "maxLength": 5000
    },
    "language": {
      "type": "array",
      "description": "Languge the applicant is expected to speak and write in and level if specified",
      "items": {
        "type": "object",
        "properties": {
          "language": {
            "type": "string",
            "description": "Languge expexted to speak as one word",
            "examples": ["swedish"]
          },
          "level": {
            "type": "string",
            "description": ""
          }
        }
      }
    },
    "jobRequirements": {
      "type": "array",
      "description": "Array of the listed requirements for being able to get the job",
      "items": {
        "type": "string",
        "description": "One requirement from the job posting"
      }
    },
    "merits": {
      "type": "array",
      "description": "Additional merits that can strengthen the application",
      "items": {
        "type": "string",
        "description": "One merit from the job posting"
      }
    },
    "applicantQualities": {
      "type": "array",
      "description": "Only required qualities mentioned. One-worded snake_case items. Do not include merits.",
      "items": {
        "type": "string",
        "description": "One quality that should be one worded"
      }
    },
    "status": {
      "type": "string",
      "description": "Current status of the job posting",
      "enum": ["active", "closed", "draft"]
    },
    "endsAt": {
      "type": ["string", "null"],
      "format": "date-time",
      "description": "Deadline or end date for the job posting"
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Date and time when the job posting was created"
    },
    "updatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Date and time when the job posting was last updated"
    },
    "location": {
      "type": ["object", "null"],
      "description": "The location of the working station for the role",
      "properties": {
        "city": {
          "type": "string",
          "description": "City of the job location",
          "default": ""
        },
        "country": {
          "type": "string",
          "description": "Country of the job location",
          "default": ""
        }
      }
    },
    "workArrengment": {
      "type": "string",
      "description": "Detailed description of the job's working mode, indicating both location flexibility and work hours arrangement",
      "enum": [
        "remote_full_time",
        "remote_part_time",
        "hybrid_full_time",
        "hybrid_part_time",
        "onsite_full_time",
        "onsite_part_time",
        "flexible_full_time",
        "flexible_part_time"
      ],
      "examples": ["remote_full_time", "hybrid_part_time", "onsite_full_time"]
    },
    "employmentType": {
      "type": "string",
      "description": "Type of employment in terms of working hours and contract type",
      "enum": ["full_time", "part_time", "contract", "temporary", "internship", "freelance"],
      "examples": ["full_time", "part_time", "contract"]
    },
    "salary": {
      "type": ["object", "null"],
      "description": "Salary information extracted from the job posting. AI MUST follow these extraction rules:\n\n1. If a single number is found, use 'type: fixed'\n2. If a salary range (e.g., '30 000 - 40 000') is found, use 'type: range'\n3. If no clear salary is mentioned, use 'type: not_specified'\n4. ALWAYS include currency and period\n5. If uncertain, default to 'SEK' and 'monthly'",
      "properties": {
        "type": {
          "type": "string",
          "description": "Type of salary specification",
          "enum": ["range", "fixed", "competitive", "negotiable", "not_specified"],
          "examples": [
            "30 000 - 40 000 SEK per month",
            "45 000 SEK per month",
            "Competitive salary based on experience",
            "Salary negotiable depending on qualifications",
            "Salary not mentioned"
          ]
        },
        "amount": {
          "type": ["string", "null"],
          "description": "Salary amount, no currency code",
          "examples": ["30 000 - 40 000", "45 000"]
        },
        "currency": {
          "type": ["string", "null"],
          "description": "Salary currency"
        },
        "period": {
          "type": "string",
          "description": "Salary period",
          "enum": ["monthly", "annually", "hourly", "weekly"],
          "default": "monthly"
        },
        "benefits": {
          "type": "array",
          "description": "Additional compensation or benefits",
          "items": {
            "type": "string",
            "examples": [
              "Pension contribution",
              "Health insurance",
              "Flexible working hours",
              "Remote work opportunities",
              "Stock options",
              "Equity compensation",
              "Performance bonus",
              "Company shares",
              "RSU (Restricted Stock Units)",
              "others"
            ]
          }
        },
        "notes": {
          "type": ["string", "null"],
          "description": "Additional salary-related comments from the job posting"
        }
      },
      "required": ["type", "amount", "currency", "period"]
    }
  },
  "required": [
    "title",
    "companyName",
    "companyLogo",
    "createdJobPosting",
    "jobPostingUrl",
    "jobDescription",
    "markdownText",
    "language",
    "jobRequirements",
    "merits",
    "applicantQualities",
    "status",
    "endsAt",
    "createdAt",
    "updatedAt",
    "location",
    "workArrengment",
    "employmentType",
    "salary"
  ]
}
